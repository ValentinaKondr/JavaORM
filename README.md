# ORM 

Система управления учебными курсами, которая позволит вести расписание занятий, раздавать задания студентам, собирать их решения и проводить тестирование знаний.


## Технологии

Проект использует следующие технологии:

- Kotlin 
- Spring Boot - 3.5.8
- PostgreSQL - БД
- Lombok - для упрощения кода
- Liquibase - версионирование БД
- Junit - тесты
- Maven - Сборка

## Как запустить

Необходимо указать в настройках переменные окружения:
```yaml
spring:
  datasource:
    url: ${DB_URL} - путь подключения к БД
    username: ${DB_USER} - имя пользователя БД
    password: ${DB_PASSWORD} - пароль пользователя БД
```

Для запуска проекта необходимо создать jar файл с помощью команды:
```bash
mvn clean install
```

И запустить jar файл командой:

```bash
java -jar target/orm-0.0.1-SNAPSHOT.jar
```

Тесты запускаются командой `mvn test`.

## Структура проекта

- [domain](src/main/kotlin/v/orm/domain) - Бизнес-модель проекта

В папках entity содержатся модели сущностей, а в repository - DAO интерфейсы

- [service](src/main/kotlin/v/orm/service) - Сервисный слой проекта
- [changelog](src/main/resources/db/changelog) - Скрипты миграции БД
- [tests](src/test/kotlin/v/orm/service) - Тесты сервисного слоя
- [application.yml](src/main/resources/application.yml) - Конфигурация приложения

Проект покрыт тестами на 100%

## Бизнес-модель проекта

Бизнес-модель проекта

В основе системы лежит набор доменных сущностей, которые описывают структуру образовательной платформы и взаимодействие пользователей с контентом.  
В качестве общего базового класса используется BaseEntity, от которого наследуются остальные сущности и который содержит общие поля.  
Обучение организовано вокруг курсов. Каждый Course создаётся и ведётся преподавателем, относится к определённой Category (например, «Программирование» или «Математика») и может иметь набор тегов (Tag). 
Студенты могут записываться на курсы через сущность Enrollment, которая связывает пользователя с выбранным курсом. Также пользователи могут оставлять отзывы в виде CourseReview.  
Курс состоит из модулей (Module). Каждый модуль объединяет несколько уроков (Lesson) и может содержать один тест (Quiz) в рамках связи «один к одному».  
Уроки могут включать задания (Assignment), которые студенты выполняют и отправляют на проверку. Результаты выполнения хранятся в виде Submission, где указывается оценка и комментарий преподавателя.  
Тесты (Quiz) состоят из набора вопросов (Question), каждый из которых имеет несколько вариантов ответов (AnswerOption), среди которых может быть правильный. После прохождения теста создаётся запись QuizSubmission, содержащая результат, набранные баллы.   
Пользователи системы представлены сущностью User, которая определяет роль (преподаватель или студент). Дополнительная информация о пользователе хранится в UserProfile.   
Таким образом, модель охватывает полный цикл обучения: от создания курсов и контента до взаимодействия студентов с заданиями, тестами и системой оценки.  

- **[BaseEntity](src/main/kotlin/v/orm/domain/base/BaseEntity.kt)** - базовый класс, содержащий общие поля и логику для всех сущностей.
- **[User](src/main/kotlin/v/orm/domain/user/entity/User.kt)** – учётная запись пользователя системы с определённой ролью.
- **[UserProfile](src/main/kotlin/v/orm/domain/user/entity/UserProfile.kt)** - расширенная информация о пользователе и его персональных данных.
- **[Lesson](src/main/kotlin/v/orm/domain/lesson/entity/Lesson.kt)** – элемент модуля, включающий теоретический материал и связанные задания.
- **[Assignment](src/main/kotlin/v/orm/domain/assignment/entity/Assignment.kt)** – сущность, представляющая учебное задание для студентов.
- **[Module](src/main/kotlin/v/orm/domain/module/entity/Module.kt)** – структурная часть курса, объединяющая уроки и связанные с ними тесты по схеме один к одному.
- **[Submission](src/main/kotlin/v/orm/domain/submission/entity/Submission.kt)** – результат выполнения задания студентом с выставленной оценкой и комментариями преподавателя.
- **[Category](src/main/kotlin/v/orm/domain/category/entity/Category.kt)** – классификация курсов по тематическим направлениям.
- **[Course](src/main/kotlin/v/orm/domain/course/entity/Course.kt)** – учебный курс, создаваемый преподавателем и доступный для записи студентов.
- **[CourseReview](src/main/kotlin/v/orm/domain/course/entity/CourseReview.kt)** - отзыв пользователя о качестве и содержании курса.
- **[Enrollment](src/main/kotlin/v/orm/domain/enrollment/entity/Enrollment.kt)** – сущность, фиксирующая факт зачисления студента на курс.
- **[Tag](src/main/kotlin/v/orm/domain/course/entity/Tag.kt)** - ключевое слово для дополнительной классификации и поиска курсов.
- **[Question](src/main/kotlin/v/orm/domain/quiz/entity/Question.kt)** – элемент теста, содержащий формулировку вопроса и набор ответов.
- **[AnswerOption](src/main/kotlin/v/orm/domain/quiz/entity/AnswerOption.kt)** – возможный вариант ответа на вопрос теста с указанием корректности.
- **[Quiz](src/main/kotlin/v/orm/domain/quiz/entity/Quiz.kt)** – модульный тест, связанный с учебным блоком и включающий набор вопросов.
- **[QuizSubmission](src/main/kotlin/v/orm/domain/quiz/entity/QuizSubmission.kt)** – данные о прохождении теста студентом с результатами и временем выполнения.
